---
layout: post
title: "AWS Notes - S3"
date: 2025-06-15
tags: ["Cloud"]
---

S3 stands for Simple Storage Service

---
### Introduction

- S3 is object storage
- When you store data in object storage, it's encapsulated into an object
- Objects are accessed using their unique identifier, eliminating the need to traverse a hierarchical file system

---
### Bucket

- Objects are stored in a flat, single-level structure, often called a bucket
- Buckets are created in your account and must have a globally unique name
- Although S3 looks like a global service, buckets are actually created in a specific AWS region

---
### Objects

- objects are files and they have a key which is the full path of your file
- Keys are very long names that contain slashes and are made of a prefix and an object name
- Ex:

```
Path = s3://dan-bucket/images/cars/bentley.jpg

Bucket Name = dan-bucket
Key = images/cars/bentley.jpg
Prefic = images/cars
Object Name = bentley.jpg
```

- Max object size of 5TB supported
- Above 5GB, multi-part upload must be used
- Metadata, tags, and versioning can be associated with objects to enhance management and security.

---
### Security

- Two types of policies
    - User-based - IAM permissions
    - Resource-based - Bucket policies, Access Control Lists (Object level)
- An outside user can access an s3 object if bucket policy allows it i.e. Bucket is public
- An IAM principal can access an s3 object 
    - if IAM permissions ALLOW it or Bucket policies ALLOW it
    - and if there is no explicit DENY
- Objects can be encrypted for security

---
### Versioning

- We can enable versioning of files so that changes are tracked
    - Overwriting the same key (file) will change its version
    - Deleting a key will add a Delete Marker
- Null versions are assigned to existing files 
- Suspending versioning will not delete previous versions

---
### Replication

- Goal: To keep a replica of the data in s3 bucket in one Region to another region
- Two Types
    - Same Region Replication (SRR)
    - Cross Region Replication (CRR)
- Required
    - Versioning must be enabled on both source and destination buckets
    - S3 service must have IAM permission to read from source bucket and write to the destination bucket
- Replication happens asynchronously in the background